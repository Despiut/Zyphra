<!DOCTYPE html>
<html>
<head>
<title>Zyphra</title>
<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    color:white;
    background-color:#111;
    background-image:
        linear-gradient(rgba(200,200,200,0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(200,200,200,0.2) 1px, transparent 1px);
    background-size:100px 100px;
    background-position:center;
}

.screen{
    width:100vw;
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

#builder{display:none}

h1{
    font-size:90px;
    margin-bottom:40px;
    letter-spacing:6px;
}

button{
    padding:15px 35px;
    font-size:20px;
    border-radius:8px;
    border:none;
    background:#2b2b2b;
    color:white;
    cursor:pointer;
    margin:5px;
}

#controls{
    position:fixed;
    top:10px;
    left:50%;
    transform:translateX(-50%);
}

#info{
    position:fixed;
    bottom:20px;
    width:100%;
    text-align:center;
}

canvas{
    display:block;
    margin:auto;
}
</style>
</head>
<body>

<div id="home" class="screen">
    <h1>Zyphra</h1>
    <button id="startBtn">Get Started</button>
</div>

<div id="builder" class="screen">
    <div id="controls">
        <button id="pBtn">Add Proton</button>
        <button id="nBtn">Add Neutron</button>
        <button id="eBtn">Add Electron</button>
    </div>
    <canvas id="canvas"></canvas>
    <div id="info"></div>
</div>

<script>
const home=document.getElementById("home")
const builder=document.getElementById("builder")
const startBtn=document.getElementById("startBtn")

startBtn.onclick=()=>{
    home.style.display="none"
    builder.style.display="flex"
}

const canvas=document.getElementById("canvas")
const ctx=canvas.getContext("2d")

function resize(){
    canvas.width=window.innerWidth
    canvas.height=window.innerHeight
    draw()
}
window.addEventListener("resize",resize)
resize()

let protons=0,neutrons=0,electrons=0
const limits=[2,8,18,32,32,18,8]

document.getElementById("pBtn").onclick=()=>{protons++;draw()}
document.getElementById("nBtn").onclick=()=>{neutrons++;draw()}
document.getElementById("eBtn").onclick=()=>{
    let r=electrons
    for(let i=0;i<limits.length;i++){
        if(r<limits[i]){electrons++;draw();return}
        r-=limits[i]
    }
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height)

    let cx=canvas.width/2
    let cy=canvas.height/2
    let base=Math.min(canvas.width,canvas.height)/10

    ctx.beginPath()
    ctx.arc(cx,cy,base,0,Math.PI*2)
    ctx.fillStyle="rgba(150,150,150,0.4)"
    ctx.fill()

    let remain=electrons
    let shells=[]
    for(let i=0;i<limits.length;i++){
        let c=Math.min(remain,limits[i])
        if(c<=0)break
        shells.push(c)
        remain-=c
    }

    for(let i=0;i<shells.length;i++){
        let rad=base*(2+i)
        ctx.beginPath()
        ctx.arc(cx,cy,rad,0,Math.PI*2)
        ctx.strokeStyle="rgba(255,255,255,0.2)"
        ctx.stroke()

        for(let j=0;j<shells[i];j++){
            let a=(j/shells[i])*Math.PI*2
            let x=cx+Math.cos(a)*rad
            let y=cy+Math.sin(a)*rad
            ctx.beginPath()
            ctx.arc(x,y,6,0,Math.PI*2)
            ctx.fillStyle="cyan"
            ctx.fill()
        }
    }

    document.getElementById("info").textContent=
        `Protons: ${protons} | Neutrons: ${neutrons} | Electrons: ${electrons}`
}
</script>

</body>
</html>
